data$imposto_de_renda_s <- as.numeric(as.character(data$imposto_de_renda_s))/100  # NEGATIVE   #
data$psss_s <- as.numeric(as.character(data$psss_s))/100                          #   VALUES   #
data$faltas_s <- as.numeric(as.character(data$faltas_s))/100                      ##############
data$remuneracao_apos_descontos_s <- as.numeric(as.character(data$remuneracao_apos_descontos_s))/100
data$diarias_s <- as.numeric(as.character(data$diarias_s))/100
data$auxilios_s <- as.numeric(as.character(data$auxilios_s))/100
data$auxilio_alimentacao_s <- as.numeric(as.character(data$auxilio_alimentacao_s))/100
data$vantagens_indenizatorias_s <- as.numeric(as.character(data$vantagens_indenizatorias_s))/100
data$licenca_premio_s <- as.numeric(as.character(data$licenca_premio_s))/100
#######################################################################################################
#Quanto foi pago em remuneração em 2017?
#######################################################################################################
library("dplyr")
data <- mutate(data, remuneracao_total=remuneracao_basica + vantagens_pessoais + funcao_comissao + gratificacao_natalina + horas_extras + outras_remuneracoes + adicional_periculosidade + adicional_noturno + abono_permanencia + reversao + imposto_de_renda + psss + faltas + diarias + auxilios + auxilio_alimentacao + vantagens_indenizatorias + licenca_premio)
data <- mutate(data, remuneracao_total_s=remuneracao_basica_s + vantagens_pessoais_s + funcao_comissao_s + gratificacao_natalina_s + horas_extras_s + outras_remuneracoes_s + adicional_periculosidade_s + adicional_noturno_s + abono_permanencia_s + reversao_s + imposto_de_renda_s + psss_s + faltas_s + diarias_s + auxilios_s + auxilio_alimentacao_s + vantagens_indenizatorias_s + licenca_premio_s)
data <- mutate(data, remuneracao_total_liquida=remuneracao_total+remuneracao_total_s)
nrow(data) #46,164 = 46164
sum(data$remuneracao_total, na.rm=T)        #520,648,967 = 520648967
sum(data$remuneracao_total_s, na.rm=T)      #31,284,518 = 31284518
sum(data$remuneracao_total_liquida, na.rm=T)#551,933,485 = 551933485
#######################################################################################################
#Qual a representatividade de aposentados?
#Em remuneração e em quantidade? Mais representação em porcetagem
#######################################################################################################
aposentados_2017 <- filter(data, grepl("APOSENTADO", situacao))
nrow(aposentados_2017) #19,459 (39%)
sum(aposentados_2017$remuneracao_total, na.rm=T)        #
sum(aposentados_2017$remuneracao_total_s, na.rm=T)      #
sum(aposentados_2017$remuneracao_total_liquida, na.rm=T)#
View(data)
sum(data$licenca_premio_s)
sum(data$licenca_premio)
sum(aposentados_2017$licenca_premio_s)
sum(data$licenca_premio_s)  #10,841,166 = 10841166
sum(aposentados_2017$licenca_premio_s)  #10,841,166 = 10841166
salariosAgregados <- aggregate(situacao~licenca_premio_s, FUN=sum, aposentados_2017)
View(aposentados_2017)
View(aposentados_2017)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
View(aposentados_2017)
View(salariosAgregados)
topSalarios <- salariosAgregados[order(salariosAgregados$licenca_premio_s, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- c("Situação", "Licença Prêmio")
topSalarios
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
View(salariosAgregados)
aux <- filter(data, !grepl("APOSENTADO", situacao))
sum(aux$remuneracao_total_liquida, na.rm=T)
sum(data$licenca_premio)    #0
sum(data$licenca_premio_s)  #10,841,166 = 10841166
sum(aposentados_2017$licenca_premio_s)  #10,841,166 = 10841166 (100%)
sum(data$licenca_premio)    #0
sum(data$licenca_premio_s)  #10,841,166 = 10841166
sum(aposentados_2017$licenca_premio_s)  #10,841,166 = 10841166 (100%)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
topSalarios <- salariosAgregados[order(salariosAgregados$licenca_premio_s, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- c("Situação", "Licença Prêmio")
topSalarios
View(salariosAgregados)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
topSalarios <- salariosAgregados[order(salariosAgregados$licenca_premio_s, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios
topSalarios <- function(data, column_ref, column_dst) {
salariosAgregados <- aggregate(column_ref~column_dst, FUN=sum, data)
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- c("Cargo", "Remuneração após desconto")
return(topSalarios)
}
topSalarios <- topSalarios(aposentados_2017, aposentados_2017$licenca_premio_s, aposentados_2017$cargo)
topSalarios
topSalarios <- topSalarios(aposentados_2017, aposentados_2017$licenca_premio_s, aposentados_2017$cargo+aposentados_2017$id)
topSalarios <- function(data, salariosAgregados, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalarios(senado_2017, salariosAgregados, keeps)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalarios(senado_2017, salariosAgregados, keeps)
topSalarios <- function(data, salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
View(salariosAgregados)
topSalarios <- topSalarios(senado_2017, salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalarios(senado_2017, salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
topSalarios <- topSalarios(senado_2017, salariosAgregados, licenca_premio_s,  keeps)
topSalarios <- function(data, salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalarios(senado_2017, salariosAgregados, licenca_premio_s,  keeps)
topSalarios <- topSalarios(senado_2017, salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(topSalarios)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalarios(senado_2017, salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalarios(data, salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
topSalarios <- function(data, salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
topSalarios <- function(data, salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
#rownames(topSalarios) <- NULL
#colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios <- function(salariosAgregados, column_ref, title) {
#topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
#rownames(topSalarios) <- NULL
#colnames(topSalarios) <- title
return(topSalarios)
}
View(topSalarios)
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
#rownames(topSalarios) <- NULL
#colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
#rownames(topSalarios) <- NULL
#colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios1 <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
View(topSalarios)
topSalarios <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
topSalariosFunc <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(data, salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
topSalarios <- topSalariosFunc(salariosAgregados, licenca_premio_s,  keeps)
topSalariosFunc <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, licenca_premio_s,  keeps)
View(salariosAgregados)
topSalariosFunc <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(salariosAgregados$column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, licenca_premio_s,  keeps)
topSalarios <- topSalariosFunc(salariosAgregados, "licenca_premio_s",  keeps)
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
topSalariosFunc <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(topSalarios)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, senado_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(data)
View(topSalarios)
data_filename = "~/workspace/quebra-quebra2/dados_senado_limpo.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","licenca_premio_s")
data <- data[data$ano==2017,]
data$mes <- as.numeric(as.character(data$mes))
data$ano <- as.numeric(as.character(data$ano))
data$remuneracao_basica <- as.numeric(as.character(data$remuneracao_basica))/100
data$vantagens_pessoais <- as.numeric(as.character(data$vantagens_pessoais))/100
data$funcao_comissao <- as.numeric(as.character(data$funcao_comissao))/100
data$gratificacao_natalina <- as.numeric(as.character(data$gratificacao_natalina))/100
data$horas_extras <- as.numeric(as.character(data$horas_extras))/100
data$outras_remuneracoes <- as.numeric(as.character(data$outras_remuneracoes))/100
data$adicional_periculosidade <- as.numeric(as.character(data$adicional_periculosidade))/100
data$adicional_noturno <- as.numeric(as.character(data$adicional_noturno))/100
data$abono_permanencia <- as.numeric(as.character(data$abono_permanencia))/100
data$reversao <- as.numeric(as.character(data$reversao))/100                 ###############
data$imposto_de_renda <- as.numeric(as.character(data$imposto_de_renda))/100 # NEGATIVE    #
data$psss <- as.numeric(as.character(data$psss))/100                         #   VALUES    #
data$faltas <- as.numeric(as.character(data$faltas))/100                     ###############
data$remuneracao_apos_descontos <- as.numeric(as.character(data$remuneracao_apos_descontos))/100
data$diarias <- as.numeric(as.character(data$diarias))/100
data$auxilios <- as.numeric(as.character(data$auxilios))/100
data$auxilio_alimentacao <- as.numeric(as.character(data$auxilio_alimentacao))/100
data$vantagens_indenizatorias <- as.numeric(as.character(data$vantagens_indenizatorias))/100
data$licenca_premio <- as.numeric(as.character(data$licenca_premio))/100
data$remuneracao_basica_s <- as.numeric(as.character(data$remuneracao_basica_s))/100
data$vantagens_pessoais_s <- as.numeric(as.character(data$vantagens_pessoais_s))/100
data$funcao_comissao_s <- as.numeric(as.character(data$funcao_comissao_s))/100
data$gratificacao_natalina_s <- as.numeric(as.character(data$gratificacao_natalina_s))/100
data$horas_extras_s <- as.numeric(as.character(data$horas_extras_s))/100
data$outras_remuneracoes_s <- as.numeric(as.character(data$outras_remuneracoes_s))/100
data$adicional_periculosidade_s <- as.numeric(as.character(data$adicional_periculosidade_s))/100
data$adicional_noturno_s <- as.numeric(as.character(data$adicional_noturno_s))/100
data$abono_permanencia_s <- as.numeric(as.character(data$abono_permanencia_s))/100
data$reversao_s <- as.numeric(as.character(data$reversao_s))/100                  ##############
data$imposto_de_renda_s <- as.numeric(as.character(data$imposto_de_renda_s))/100  # NEGATIVE   #
data$psss_s <- as.numeric(as.character(data$psss_s))/100                          #   VALUES   #
data$faltas_s <- as.numeric(as.character(data$faltas_s))/100                      ##############
data$remuneracao_apos_descontos_s <- as.numeric(as.character(data$remuneracao_apos_descontos_s))/100
data$diarias_s <- as.numeric(as.character(data$diarias_s))/100
data$auxilios_s <- as.numeric(as.character(data$auxilios_s))/100
data$auxilio_alimentacao_s <- as.numeric(as.character(data$auxilio_alimentacao_s))/100
data$vantagens_indenizatorias_s <- as.numeric(as.character(data$vantagens_indenizatorias_s))/100
data$licenca_premio_s <- as.numeric(as.character(data$licenca_premio_s))/100
#######################################################################################################
#Quanto foi pago em remuneração em 2017?
#######################################################################################################
library("dplyr")
data <- mutate(data, remuneracao_total=remuneracao_basica + vantagens_pessoais + funcao_comissao + gratificacao_natalina + horas_extras + outras_remuneracoes + adicional_periculosidade + adicional_noturno + abono_permanencia + reversao + imposto_de_renda + psss + faltas + diarias + auxilios + auxilio_alimentacao + vantagens_indenizatorias + licenca_premio)
data <- mutate(data, remuneracao_total_s=remuneracao_basica_s + vantagens_pessoais_s + funcao_comissao_s + gratificacao_natalina_s + horas_extras_s + outras_remuneracoes_s + adicional_periculosidade_s + adicional_noturno_s + abono_permanencia_s + reversao_s + imposto_de_renda_s + psss_s + faltas_s + diarias_s + auxilios_s + auxilio_alimentacao_s + vantagens_indenizatorias_s + licenca_premio_s)
data <- mutate(data, remuneracao_total_liquida=remuneracao_total+remuneracao_total_s)
nrow(data) #46,164 = 46164
sum(data$remuneracao_total, na.rm=T)        #520,648,967 = 520648967
sum(data$remuneracao_total_s, na.rm=T)      #31,284,518 = 31284518
sum(data$remuneracao_total_liquida, na.rm=T)#551,933,485 = 551933485
aposentados_2017 <- filter(data, grepl("APOSENTADO", situacao))
nrow(aposentados_2017) #13,071 = 13071 (28,31%)
sum(aposentados_2017$remuneracao_total, na.rm=T)        #266,028,494 = 266028494 (51,1%)
sum(aposentados_2017$remuneracao_total_s, na.rm=T)      #26,564,406 = 26564406 (84,91%)
sum(aposentados_2017$remuneracao_total_liquida, na.rm=T)#292,592,900 = 292592900 (53%)
sum(data$licenca_premio)    #0
sum(data$licenca_premio_s)  #10,841,166 = 10841166
sum(aposentados_2017$licenca_premio_s)  #10,841,166 = 10841166 (100%)
topSalariosFunc <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, data)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(topSalarios)
topSalarios <- topSalarios(aposentados_2017, aposentados_2017$licenca_premio_s, aposentados_2017$cargo)
topSalarios <- topSalariosFunc(aposentados_2017, aposentados_2017$licenca_premio_s, keeps)
topSalarios # Tecnico, Analista e Consultor
View(topSalarios)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s, keeps)
topSalarios # Tecnico, Analista e Consultor
salariosAgregados <- aggregate(licenca_premio_s~cargo, FUN=sum, data)
salariosAgregados <- aggregate(licenca_premio_s~cargo, FUN=sum, data)
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s, keeps)
keeps <- c("Nome", "Cargo", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s, keeps)
keeps <- c("Cargo", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s, keeps)
View(topSalarios)
salariosAgregados <- aggregate(licenca_premio_s~cargo, FUN=sum, senado_2017)
keeps <- c("Cargo", "Licença Prêmio")
salariosAgregados <- aggregate(licenca_premio_s~cargo, FUN=sum, aposentados_2017)
keeps <- c("Cargo", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s, keeps)
topSalarios # Tecnico, Analista e Consultor
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, senado_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, senado_2017)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(topSalarios)
data_filename = "~/workspace/quebra-quebra/src/processa_dados_senado/output_2017.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","licenca_premio_s")
View(data)
sum(data$remuneracao_basica)
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", sep=".")
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","licenca_premio_s")
sum(data$remuneracao_basica)
sum(as.numeric(data$remuneracao_basica))
data_filename = "~/workspace/quebra-quebra/src/processa_dados_senado/output_2017.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","licenca_premio_s")
sum(as.numeric(data$remuneracao_basica))
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
data_filename = "~/workspace/quebra-quebra/src/processa_dados_senado/output_2017.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","licenca_premio_s")
sum(data$remuneracao_basica)
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s",)
a<-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s",)
a<-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
colnames(data)<-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
View(data)
library("dplyr")
data <- mutate(data, remuneracao_total=remuneracao_basica + vantagens_pessoais + funcao_comissao + gratificacao_natalina + horas_extras + outras_remuneracoes + adicional_periculosidade + adicional_noturno + abono_permanencia + reversao + imposto_de_renda + psss + faltas + diarias + auxilios + auxilio_alimentacao + vantagens_indenizatorias + adicional_ferias + ferias_indenizatorias + licenca_premio)
data <- mutate(data, remuneracao_total_s=remuneracao_basica_s + vantagens_pessoais_s + funcao_comissao_s + gratificacao_natalina_s + horas_extras_s + outras_remuneracoes_s + adicional_periculosidade_s + adicional_noturno_s + abono_permanencia_s + reversao_s + imposto_de_renda_s + psss_s + faltas_s + diarias_s + auxilios_s + auxilio_alimentacao_s + vantagens_indenizatorias_s + adicional_ferias_s + ferias_indenizatorias_s + licenca_premio_s)
data <- mutate(data, remuneracao_total_liquida=remuneracao_total+remuneracao_total_s)
nrow(data) #46,164 = 46164
sum(data$remuneracao_total, na.rm=T)        #520,648,967 = 520648967
sum(data$remuneracao_total_s, na.rm=T)      #31,284,518 = 31284518
sum(data$remuneracao_total_liquida, na.rm=T)#551,933,485 = 551933485
aposentados_2017 <- filter(data, grepl("APOSENTADO", situacao))
nrow(aposentados_2017) #13,071 = 13071 (28,31%)
sum(aposentados_2017$remuneracao_total, na.rm=T)        #266,028,494 = 266028494 (51,1%)
sum(aposentados_2017$remuneracao_total_s, na.rm=T)      #26,564,406 = 26564406 (84,91%)
sum(aposentados_2017$remuneracao_total_liquida, na.rm=T)#292,592,900 = 292592900 (53%)
sum(data$licenca_premio)    #0
sum(data$licenca_premio_s)  #10,841,166 = 10841166
sum(aposentados_2017$licenca_premio_s)  #10,841,166 = 10841166 (100%)
topSalariosFunc <- function(salariosAgregados, column_ref, title) {
topSalarios <- salariosAgregados[order(column_ref, decreasing=TRUE)[1:10],]
rownames(topSalarios) <- NULL
colnames(topSalarios) <- title
return(topSalarios)
}
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id, FUN=sum, aposentados_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(topSalarios)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id+ano_admissao, FUN=sum, aposentados_2017)
View(data)
salariosAgregados <- aggregate(licenca_premio_s~nome+cargo+id+ano_de_admissao, FUN=sum, aposentados_2017)
keeps <- c("Nome", "Cargo", "Id", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(topSalarios)
keeps <- c("Nome", "Cargo", "Id", "Ano de Admissão", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s,  keeps)
View(topSalarios)
salariosAgregados <- aggregate(licenca_premio_s~cargo, FUN=sum, senado_2017)
keeps <- c("Cargo", "Licença Prêmio")
salariosAgregados <- aggregate(licenca_premio_s~cargo, FUN=sum, aposentados_2017)
keeps <- c("Cargo", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s, keeps)
topSalarios # Tecnico, Analista e Consultor
salariosAgregados <- aggregate(licenca_premio_s~cargo, FUN=sum, data)
keeps <- c("Cargo", "Licença Prêmio")
topSalarios <- topSalariosFunc(salariosAgregados, salariosAgregados$licenca_premio_s, keeps)
topSalarios # Tecnico, Analista e Consultor
data_filename = "~/workspace/quebra-quebra/src/processa_dados_senado/output_2017.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
View(data)
View(data)
data_filename = "~/workspace/quebra-quebra/src/processa_dados_senado/output_2017.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
View(data)
View(data)
View(data)
ggplot(mpg, aes(class))
library(ggplot2)
ggplot(mpg, aes(class))
mpg <- ggplot(mpg, aes(class))
mpg
aes(class)
data_filename = "~/workspace/quebra-quebra/src/processa_dados_senado/dados_senado.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
View(data)
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
View(data)
data_filename = "~/workspace/quebra-quebra/senado_federal/dados/dados_senado.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
View(data)
data_filename = "../../../senado_federal/dados/dados_senado.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
data_filename = "../../../senado_federal/dados/dados_senado.csv"
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
library("dplyr")
data <- mutate(data, remuneracao_total=remuneracao_basica + vantagens_pessoais + funcao_comissao + gratificacao_natalina + horas_extras + outras_remuneracoes + adicional_periculosidade + adicional_noturno + abono_permanencia + reversao + imposto_de_renda + psss + faltas + diarias + auxilios + auxilio_alimentacao + vantagens_indenizatorias + adicional_ferias + ferias_indenizatorias + licenca_premio)
data <- mutate(data, remuneracao_total_s=remuneracao_basica_s + vantagens_pessoais_s + funcao_comissao_s + gratificacao_natalina_s + horas_extras_s + outras_remuneracoes_s + adicional_periculosidade_s + adicional_noturno_s + abono_permanencia_s + reversao_s + imposto_de_renda_s + psss_s + faltas_s + diarias_s + auxilios_s + auxilio_alimentacao_s + vantagens_indenizatorias_s + adicional_ferias_s + ferias_indenizatorias_s + licenca_premio_s)
data <- mutate(data, remuneracao_total_liquida=remuneracao_total+remuneracao_total_s)
View(data)
install.packages("DT")
library("DT")
#######################################################################################################
#Autor: Ítalo de Pontes Oliveira                                                                      #
#Os CSV's são gerados mensalmente, assim, para cada arquivo de dados, uma nova variável é atribuida   #
#######################################################################################################
data_filename = "~/workspace/quebra-quebra/senado_federal/dados/dados_senado.csv"
#######################################################################################################
#Por convensão, decidiu-se utilizar o formato de arquivo CSV, logo o separador sempre será a vírgula  #
#######################################################################################################
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
asadas<-192
install.packages("shiny")
install.packages("flexdashboard")
install.packages("rCharts")
require(devtools)
install_github('rCharts', 'ramnathv')
library(ggplot2)
library(dplyr)
library(rCharts)
library(reshape2)
library(knitr)
require(scales)
library(plotly)
library(DT)
library(shiny)
library(flexdashboard)
#######################################################################################################
#Autor: Ítalo de Pontes Oliveira e Leandro Balby Marinho                                              #
#Os CSV's são gerados mensalmente, assim, para cada arquivo de dados, uma nova variável é atribuida   #
#######################################################################################################
data_filename = "~/workspace/quebra-quebra/senado_federal/dados/dados_senado.csv"
#######################################################################################################
#Por convensão, decidiu-se utilizar o formato de arquivo CSV, logo o separador sempre será a vírgula  #
#######################################################################################################
data <- read.csv2(file=data_filename, sep=",", header=FALSE, stringsAsFactors=FALSE, na.strings="unknown", dec=".")
colnames(data) <-  c("id","nome","vinculo","situacao","ano_de_admissao","cargo","padrao","especialidade","mes","ano","remuneracao_basica","vantagens_pessoais","funcao_comissao","gratificacao_natalina","horas_extras","outras_remuneracoes","adicional_periculosidade","adicional_noturno","abono_permanencia","reversao","imposto_de_renda","psss","faltas","remuneracao_apos_descontos","diarias","auxilios","auxilio_alimentacao","vantagens_indenizatorias","adicional_ferias","ferias_indenizatorias","licenca_premio","remuneracao_basica_s","vantagens_pessoais_s","funcao_comissao_s","gratificacao_natalina_s","horas_extras_s","outras_remuneracoes_s","adicional_periculosidade_s","adicional_noturno_s","abono_permanencia_s","reversao_s","imposto_de_renda_s","psss_s","faltas_s","remuneracao_apos_descontos_s","diarias_s","auxilios_s","auxilio_alimentacao_s","vantagens_indenizatorias_s","adicional_ferias_s","ferias_indenizatorias_s","licenca_premio_s")
data <- mutate(data, remuneracao_total=remuneracao_basica + vantagens_pessoais + funcao_comissao + gratificacao_natalina + horas_extras + outras_remuneracoes + abono_permanencia + reversao + imposto_de_renda + psss + faltas + diarias + auxilios + vantagens_indenizatorias)
data <- mutate(data, remuneracao_total_s=remuneracao_basica_s + vantagens_pessoais_s + funcao_comissao_s + gratificacao_natalina_s + horas_extras_s + outras_remuneracoes_s + abono_permanencia_s + reversao_s + imposto_de_renda_s + psss_s + faltas_s + diarias_s + auxilios_s + vantagens_indenizatorias_s)
data <- mutate(data, remuneracao_total_liquida=remuneracao_total+remuneracao_total_s)
sum(data$remuneracao_total, na.rm=T)        #520,648,967 = 520648967
sum(data$remuneracao_total_s, na.rm=T)      #31,284,518 = 31284518
ano_max <- max(data$ano)
ano_min <- min(data$ano)
options(scipen=999, OutDec= ",")
senado_recente <- data[data$ano==ano_max,]
remuneracao_total_liquida <- sum(data$remuneracao_total_liquida, na.rm=T)
#filtrando dados para 2016
senado_2016 <- data[data$ano==2016,]
# recuperando as especialidades possiveis no Senado
especialidade = select(senado_2016,especialidade) %>%
unique.data.frame() %>% as.vector()
especialidade=especialidade[[1]][-2] #retirando um valor NaN na segunda posição
warnings()
library(ggplot2)
library(dplyr)
library(rCharts)
library(reshape2)
library(knitr)
require(scales)
library(reshape2)
library(ggplot2)
install_github("ramnathv/rCharts")
install_github("ramnathv/rCharts", force=TRUE)
